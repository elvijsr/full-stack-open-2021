(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var s=n(14),o=n.n(s),r=n(3),c=n(2),a=n(0),u=function(e){var t=e.persons,n=e.setPersonsToShow;return Object(a.jsxs)("div",{children:["Filter shown with",Object(a.jsx)("input",{onChange:function(e){""===e.target.value?n(t):n(t.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())})))}})]})},i=function(e){var t=e.newName,n=e.newNumber,s=e.persons,o=e.setPersons,r=e.setNewName,c=e.setNewNumber,u=e.setPersonsToShow,i=e.services,l=e.setAddedMessage;return Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={name:t,number:n};s.find((function(e){return e.name===t}))?alert("".concat(t," is already added to phonebook")):i.create(c).then((function(e){var t=s.concat(e);o(t),u(t),r(""),l("Added ".concat(e.name," ")),setTimeout((function(){l(null)}),5e3)}))},children:[Object(a.jsxs)("div",{children:["name: ",Object(a.jsx)("input",{value:t,onChange:function(e){console.log(e.target.value),r(e.target.value)}})]}),Object(a.jsxs)("div",{children:["number: ",Object(a.jsx)("input",{value:n,onChange:function(e){console.log(e.target.value),c(e.target.value)}})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var t=e.personsToShow,n=e.deletePerson,s=e.setPersonsToShow,o=e.setPersons;return Object(a.jsx)("ul",{children:t.map((function(e){return Object(a.jsxs)("li",{children:[e.name," ",e.number,Object(a.jsx)("button",{onClick:function(){return r=e.id,void(window.confirm("Delete this person?")?n(r).then(s(t.filter((function(e){return e.id!==r}))),o(t.filter((function(e){return e.id!==r})))):console.log("Deletion aborted"));var r},children:"Delete"})]},e.name)}))})},d=n(4),j=n.n(d),b="/api/notes",h={getAll:function(){return j.a.get(b).then((function(e){return e.data}))},create:function(e){return j.a.post(b,e).then((function(e){return e.data}))},deletePerson:function(e){return j.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))}},f=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],o=Object(c.useState)([]),d=Object(r.a)(o,2),j=d[0],b=d[1],f=Object(c.useState)(""),O=Object(r.a)(f,2),m=O[0],v=O[1],w=Object(c.useState)(""),p=Object(r.a)(w,2),x=p[0],g=p[1],P=Object(c.useState)(null),N=Object(r.a)(P,2),S=N[0],T=N[1];Object(c.useEffect)((function(){h.getAll().then((function(e){s(e),b(e)}))}),[]);var k=function(e){var t=e.message;return null===t?null:Object(a.jsx)("div",{className:"added",children:t})};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Phonebook"}),Object(a.jsx)(k,{message:S}),Object(a.jsx)(u,{persons:n,setPersonsToShow:b}),Object(a.jsx)("h2",{children:"Add new"}),Object(a.jsx)(i,{newName:m,newNumber:x,persons:n,setPersons:s,setNewName:v,setNewNumber:g,setPersonsToShow:b,services:h,setAddedMessage:T}),Object(a.jsx)("h2",{children:"Numbers"}),Object(a.jsx)(l,{personsToShow:j,deletePerson:h.deletePerson,setPersonsToShow:b,setPersons:s})]})};n(38);o.a.render(Object(a.jsx)(f,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.a3863266.chunk.js.map